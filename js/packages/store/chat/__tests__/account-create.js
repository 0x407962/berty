/*jest style test */

import * as chat from '..'
const { reducer } = chat.init()

var equality = function equality(result, nextState) {
	return JSON.stringify(result) === JSON.stringify(nextState)
}
var actions = [
	{
		action: {
			type: 'chat/account/command/create',
			payload: {
				name: 'Anonymous 1337',
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
	{
		action: {
			type: 'protocol/client/command/instanceGetConfiguration',
			payload: {
				id: 0,
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
	{
		action: {
			type: 'chat/account/event/created',
			payload: {
				aggregateId: 0,
				name: 'Anonymous 1337',
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk: '',
								devicePk: '',
								accountGroupPk: '',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
	{
		action: {
			type: 'protocol/client/command/appMetadataSend',
			payload: {
				id: 0,
				groupPk: '',
				payload: {
					type: 'Buffer',
					data: [
						123,
						34,
						116,
						121,
						112,
						101,
						34,
						58,
						34,
						99,
						104,
						97,
						116,
						47,
						97,
						99,
						99,
						111,
						117,
						110,
						116,
						47,
						101,
						118,
						101,
						110,
						116,
						47,
						99,
						114,
						101,
						97,
						116,
						101,
						100,
						34,
						44,
						34,
						112,
						97,
						121,
						108,
						111,
						97,
						100,
						34,
						58,
						123,
						34,
						97,
						103,
						103,
						114,
						101,
						103,
						97,
						116,
						101,
						73,
						100,
						34,
						58,
						48,
						44,
						34,
						110,
						97,
						109,
						101,
						34,
						58,
						34,
						65,
						110,
						111,
						110,
						121,
						109,
						111,
						117,
						115,
						32,
						49,
						51,
						51,
						55,
						34,
						125,
						125,
					],
				},
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk: '',
								devicePk: '',
								accountGroupPk: '',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk: '',
								devicePk: '',
								accountGroupPk: '',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
	{
		action: {
			type: 'protocol/client/event/instanceGotConfiguration',
			payload: {
				aggregateId: 0,
				accountPk: {
					type: 'Buffer',
					data: [
						50,
						49,
						55,
						101,
						55,
						53,
						53,
						99,
						99,
						98,
						98,
						54,
						55,
						49,
						52,
						102,
						54,
						99,
						51,
						54,
						53,
						56,
						48,
						52,
						99,
						102,
						100,
						101,
						54,
						52,
						51,
						98,
						51,
						49,
						57,
						101,
						53,
						98,
						56,
						52,
						100,
						53,
						102,
						53,
						53,
						50,
						49,
						97,
						101,
						98,
						98,
						97,
						101,
						57,
						53,
						49,
						52,
						53,
						52,
						98,
						101,
						97,
						55,
						50,
						48,
						50,
						98,
						53,
						50,
						100,
						57,
						56,
						49,
						98,
						55,
						57,
						50,
						100,
						101,
						98,
						55,
						53,
						53,
						52,
						55,
						102,
						49,
						102,
						48,
						52,
						98,
						56,
						53,
						51,
						102,
						102,
						48,
						57,
						55,
						55,
						99,
						57,
						57,
						54,
						50,
						54,
						51,
						55,
						99,
						101,
						98,
						48,
						100,
						57,
						98,
						57,
						56,
						48,
						55,
						100,
						98,
						51,
						57,
						100,
						48,
						102,
						54,
						57,
						58,
						53,
						56,
						97,
						53,
						97,
						57,
						56,
						55,
						101,
						101,
						56,
						57,
						53,
						56,
						100,
						49,
						49,
						53,
						50,
						57,
						50,
						51,
						50,
						56,
						56,
						55,
						48,
						97,
						99,
						55,
						55,
						55,
						48,
						102,
						55,
						55,
						51,
						98,
						97,
						49,
						52,
						56,
						101,
						56,
						52,
						101,
						49,
						50,
						48,
						49,
						54,
						51,
						52,
						99,
						98,
						48,
						101,
						97,
						99,
						54,
						57,
						98,
						98,
						50,
						102,
						100,
						53,
						101,
						53,
						48,
						98,
						57,
						55,
						98,
						98,
						56,
						57,
						49,
						54,
						101,
						98,
						99,
						99,
						57,
						99,
						54,
						56,
						56,
						57,
						102,
						55,
						57,
						52,
						101,
						53,
						56,
						51,
						99,
						49,
						100,
						51,
						57,
						101,
						97,
						53,
						51,
						53,
						97,
						102,
						98,
						100,
						99,
						48,
						98,
						55,
						100,
						56,
						53,
						99,
						101,
						57,
						53,
						97,
						54,
						100,
						53,
						57,
						50,
					],
				},
				devicePk: {
					type: 'Buffer',
					data: [
						52,
						102,
						54,
						97,
						97,
						102,
						98,
						99,
						100,
						97,
						53,
						57,
						49,
						50,
						50,
						101,
						101,
						55,
						57,
						98,
						51,
						97,
						57,
						99,
						98,
						99,
						99,
						99,
						54,
						56,
						53,
						97,
						57,
						49,
						102,
						48,
						52,
						100,
						53,
						98,
						56,
						97,
						97,
						56,
						49,
						48,
						57,
						49,
						49,
						57,
						100,
						54,
						52,
						53,
						97,
						101,
						51,
						54,
						100,
						56,
						97,
						56,
						102,
						52,
						53,
						56,
						49,
						100,
						56,
						53,
						53,
						48,
						57,
						97,
						52,
						49,
						97,
						99,
						99,
						98,
						100,
						101,
						97,
						48,
						102,
						98,
						57,
						52,
						57,
						49,
						51,
						100,
						55,
						99,
						54,
						102,
						57,
						49,
						52,
						49,
						102,
						53,
						57,
						53,
						98,
						52,
						100,
						56,
						56,
						56,
						53,
						53,
						48,
						49,
						57,
						49,
						49,
						49,
						53,
						57,
						56,
						55,
						57,
						49,
						51,
						101,
						48,
						102,
						58,
						57,
						100,
						101,
						55,
						55,
						99,
						98,
						98,
						51,
						49,
						55,
						97,
						54,
						97,
						49,
						56,
						48,
						53,
						52,
						48,
						48,
						53,
						48,
						48,
						54,
						53,
						102,
						54,
						56,
						101,
						101,
						51,
						57,
						49,
						54,
						101,
						102,
						56,
						98,
						57,
						56,
						100,
						57,
						50,
						97,
						53,
						101,
						57,
						98,
						48,
						54,
						102,
						55,
						101,
						99,
						98,
						55,
						50,
						48,
						97,
						99,
						51,
						55,
						99,
						52,
						52,
						102,
						98,
						51,
						56,
						54,
						99,
						53,
						97,
						97,
						97,
						55,
						98,
						54,
						55,
						100,
						102,
						53,
						100,
						53,
						54,
						54,
						51,
						99,
						102,
						51,
						97,
						49,
						53,
						48,
						99,
						57,
						97,
						100,
						97,
						102,
						51,
						49,
						97,
						55,
						51,
						51,
						55,
						56,
						53,
						51,
						57,
						56,
						55,
						99,
						99,
						53,
						51,
						48,
						52,
						53,
						102,
						49,
						57,
						48,
						100,
						102,
						53,
					],
				},
				accountGroupPk: {
					type: 'Buffer',
					data: [
						55,
						54,
						98,
						54,
						57,
						53,
						54,
						49,
						102,
						51,
						56,
						99,
						102,
						102,
						102,
						55,
						101,
						52,
						97,
						99,
						52,
						57,
						57,
						100,
						99,
						56,
						51,
						97,
						49,
						101,
						52,
						52,
						51,
						102,
						101,
						48,
						102,
						98,
						53,
						98,
						98,
						56,
						102,
						98,
						99,
						51,
						52,
						53,
						100,
						101,
						49,
						51,
						97,
						53,
						49,
						53,
						102,
						101,
						101,
						51,
						101,
						97,
						49,
						100,
						98,
						99,
						48,
						56,
						98,
						56,
						52,
						56,
						50,
						50,
						102,
						51,
						100,
						99,
						51,
						55,
						51,
						57,
						55,
						50,
						51,
						51,
						48,
						48,
						56,
						53,
						51,
						101,
						52,
						52,
						101,
						53,
						99,
						53,
						101,
						49,
						102,
						51,
						98,
						50,
						56,
						100,
						49,
						102,
						48,
						57,
						52,
						55,
						54,
						54,
						57,
						98,
						97,
						48,
						102,
						52,
						55,
						99,
						49,
						52,
						49,
						55,
						102,
						97,
						58,
						97,
						55,
						99,
						49,
						52,
						100,
						49,
						57,
						99,
						101,
						54,
						48,
						101,
						57,
						56,
						52,
						55,
						97,
						102,
						57,
						100,
						97,
						48,
						50,
						101,
						98,
						97,
						52,
						52,
						51,
						56,
						100,
						52,
						53,
						52,
						57,
						53,
						54,
						56,
						51,
						97,
						97,
						100,
						50,
						100,
						100,
						99,
						97,
						54,
						97,
						99,
						55,
						102,
						57,
						99,
						56,
						50,
						102,
						54,
						50,
						57,
						48,
						55,
						102,
						55,
						54,
						53,
						98,
						101,
						98,
						49,
						51,
						49,
						100,
						55,
						99,
						100,
						52,
						57,
						56,
						100,
						48,
						100,
						55,
						51,
						102,
						97,
						57,
						54,
						101,
						49,
						50,
						52,
						53,
						50,
						97,
						55,
						97,
						102,
						57,
						52,
						51,
						53,
						97,
						50,
						99,
						97,
						57,
						56,
						101,
						51,
						100,
						97,
						52,
						49,
						49,
						56,
						55,
						100,
						99,
						98,
						54,
						55,
						56,
						56,
						49,
						97,
						100,
					],
				},
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk: '',
								devicePk: '',
								accountGroupPk: '',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							accountPk:
								'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
							devicePk:
								'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
							accountGroupPk:
								'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
						},
					},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk: '',
								devicePk: '',
								accountGroupPk: '',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
	{
		action: {
			type: 'chat/account/event/configurationUpdated',
			payload: {
				aggregateId: 0,
				configuration: {
					accountPk:
						'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
					devicePk:
						'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
					accountGroupPk:
						'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
				},
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							accountPk:
								'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
							devicePk:
								'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
							accountGroupPk:
								'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
						},
					},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk: '',
								devicePk: '',
								accountGroupPk: '',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							accountPk:
								'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
							devicePk:
								'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
							accountGroupPk:
								'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
						},
					},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk:
									'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
								devicePk:
									'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
								accountGroupPk:
									'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
	{
		action: {
			type: 'protocol/client/command/appMetadataSend',
			payload: {
				id: 0,
				groupPk:
					'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
				payload: {
					type: 'Buffer',
					data: [
						123,
						34,
						116,
						121,
						112,
						101,
						34,
						58,
						34,
						99,
						104,
						97,
						116,
						47,
						97,
						99,
						99,
						111,
						117,
						110,
						116,
						47,
						101,
						118,
						101,
						110,
						116,
						47,
						99,
						111,
						110,
						102,
						105,
						103,
						117,
						114,
						97,
						116,
						105,
						111,
						110,
						85,
						112,
						100,
						97,
						116,
						101,
						100,
						34,
						44,
						34,
						112,
						97,
						121,
						108,
						111,
						97,
						100,
						34,
						58,
						123,
						34,
						97,
						103,
						103,
						114,
						101,
						103,
						97,
						116,
						101,
						73,
						100,
						34,
						58,
						48,
						44,
						34,
						99,
						111,
						110,
						102,
						105,
						103,
						117,
						114,
						97,
						116,
						105,
						111,
						110,
						34,
						58,
						123,
						34,
						97,
						99,
						99,
						111,
						117,
						110,
						116,
						80,
						107,
						34,
						58,
						34,
						50,
						49,
						55,
						101,
						55,
						53,
						53,
						99,
						99,
						98,
						98,
						54,
						55,
						49,
						52,
						102,
						54,
						99,
						51,
						54,
						53,
						56,
						48,
						52,
						99,
						102,
						100,
						101,
						54,
						52,
						51,
						98,
						51,
						49,
						57,
						101,
						53,
						98,
						56,
						52,
						100,
						53,
						102,
						53,
						53,
						50,
						49,
						97,
						101,
						98,
						98,
						97,
						101,
						57,
						53,
						49,
						52,
						53,
						52,
						98,
						101,
						97,
						55,
						50,
						48,
						50,
						98,
						53,
						50,
						100,
						57,
						56,
						49,
						98,
						55,
						57,
						50,
						100,
						101,
						98,
						55,
						53,
						53,
						52,
						55,
						102,
						49,
						102,
						48,
						52,
						98,
						56,
						53,
						51,
						102,
						102,
						48,
						57,
						55,
						55,
						99,
						57,
						57,
						54,
						50,
						54,
						51,
						55,
						99,
						101,
						98,
						48,
						100,
						57,
						98,
						57,
						56,
						48,
						55,
						100,
						98,
						51,
						57,
						100,
						48,
						102,
						54,
						57,
						58,
						53,
						56,
						97,
						53,
						97,
						57,
						56,
						55,
						101,
						101,
						56,
						57,
						53,
						56,
						100,
						49,
						49,
						53,
						50,
						57,
						50,
						51,
						50,
						56,
						56,
						55,
						48,
						97,
						99,
						55,
						55,
						55,
						48,
						102,
						55,
						55,
						51,
						98,
						97,
						49,
						52,
						56,
						101,
						56,
						52,
						101,
						49,
						50,
						48,
						49,
						54,
						51,
						52,
						99,
						98,
						48,
						101,
						97,
						99,
						54,
						57,
						98,
						98,
						50,
						102,
						100,
						53,
						101,
						53,
						48,
						98,
						57,
						55,
						98,
						98,
						56,
						57,
						49,
						54,
						101,
						98,
						99,
						99,
						57,
						99,
						54,
						56,
						56,
						57,
						102,
						55,
						57,
						52,
						101,
						53,
						56,
						51,
						99,
						49,
						100,
						51,
						57,
						101,
						97,
						53,
						51,
						53,
						97,
						102,
						98,
						100,
						99,
						48,
						98,
						55,
						100,
						56,
						53,
						99,
						101,
						57,
						53,
						97,
						54,
						100,
						53,
						57,
						50,
						34,
						44,
						34,
						100,
						101,
						118,
						105,
						99,
						101,
						80,
						107,
						34,
						58,
						34,
						52,
						102,
						54,
						97,
						97,
						102,
						98,
						99,
						100,
						97,
						53,
						57,
						49,
						50,
						50,
						101,
						101,
						55,
						57,
						98,
						51,
						97,
						57,
						99,
						98,
						99,
						99,
						99,
						54,
						56,
						53,
						97,
						57,
						49,
						102,
						48,
						52,
						100,
						53,
						98,
						56,
						97,
						97,
						56,
						49,
						48,
						57,
						49,
						49,
						57,
						100,
						54,
						52,
						53,
						97,
						101,
						51,
						54,
						100,
						56,
						97,
						56,
						102,
						52,
						53,
						56,
						49,
						100,
						56,
						53,
						53,
						48,
						57,
						97,
						52,
						49,
						97,
						99,
						99,
						98,
						100,
						101,
						97,
						48,
						102,
						98,
						57,
						52,
						57,
						49,
						51,
						100,
						55,
						99,
						54,
						102,
						57,
						49,
						52,
						49,
						102,
						53,
						57,
						53,
						98,
						52,
						100,
						56,
						56,
						56,
						53,
						53,
						48,
						49,
						57,
						49,
						49,
						49,
						53,
						57,
						56,
						55,
						57,
						49,
						51,
						101,
						48,
						102,
						58,
						57,
						100,
						101,
						55,
						55,
						99,
						98,
						98,
						51,
						49,
						55,
						97,
						54,
						97,
						49,
						56,
						48,
						53,
						52,
						48,
						48,
						53,
						48,
						48,
						54,
						53,
						102,
						54,
						56,
						101,
						101,
						51,
						57,
						49,
						54,
						101,
						102,
						56,
						98,
						57,
						56,
						100,
						57,
						50,
						97,
						53,
						101,
						57,
						98,
						48,
						54,
						102,
						55,
						101,
						99,
						98,
						55,
						50,
						48,
						97,
						99,
						51,
						55,
						99,
						52,
						52,
						102,
						98,
						51,
						56,
						54,
						99,
						53,
						97,
						97,
						97,
						55,
						98,
						54,
						55,
						100,
						102,
						53,
						100,
						53,
						54,
						54,
						51,
						99,
						102,
						51,
						97,
						49,
						53,
						48,
						99,
						57,
						97,
						100,
						97,
						102,
						51,
						49,
						97,
						55,
						51,
						51,
						55,
						56,
						53,
						51,
						57,
						56,
						55,
						99,
						99,
						53,
						51,
						48,
						52,
						53,
						102,
						49,
						57,
						48,
						100,
						102,
						53,
						34,
						44,
						34,
						97,
						99,
						99,
						111,
						117,
						110,
						116,
						71,
						114,
						111,
						117,
						112,
						80,
						107,
						34,
						58,
						34,
						55,
						54,
						98,
						54,
						57,
						53,
						54,
						49,
						102,
						51,
						56,
						99,
						102,
						102,
						102,
						55,
						101,
						52,
						97,
						99,
						52,
						57,
						57,
						100,
						99,
						56,
						51,
						97,
						49,
						101,
						52,
						52,
						51,
						102,
						101,
						48,
						102,
						98,
						53,
						98,
						98,
						56,
						102,
						98,
						99,
						51,
						52,
						53,
						100,
						101,
						49,
						51,
						97,
						53,
						49,
						53,
						102,
						101,
						101,
						51,
						101,
						97,
						49,
						100,
						98,
						99,
						48,
						56,
						98,
						56,
						52,
						56,
						50,
						50,
						102,
						51,
						100,
						99,
						51,
						55,
						51,
						57,
						55,
						50,
						51,
						51,
						48,
						48,
						56,
						53,
						51,
						101,
						52,
						52,
						101,
						53,
						99,
						53,
						101,
						49,
						102,
						51,
						98,
						50,
						56,
						100,
						49,
						102,
						48,
						57,
						52,
						55,
						54,
						54,
						57,
						98,
						97,
						48,
						102,
						52,
						55,
						99,
						49,
						52,
						49,
						55,
						102,
						97,
						58,
						97,
						55,
						99,
						49,
						52,
						100,
						49,
						57,
						99,
						101,
						54,
						48,
						101,
						57,
						56,
						52,
						55,
						97,
						102,
						57,
						100,
						97,
						48,
						50,
						101,
						98,
						97,
						52,
						52,
						51,
						56,
						100,
						52,
						53,
						52,
						57,
						53,
						54,
						56,
						51,
						97,
						97,
						100,
						50,
						100,
						100,
						99,
						97,
						54,
						97,
						99,
						55,
						102,
						57,
						99,
						56,
						50,
						102,
						54,
						50,
						57,
						48,
						55,
						102,
						55,
						54,
						53,
						98,
						101,
						98,
						49,
						51,
						49,
						100,
						55,
						99,
						100,
						52,
						57,
						56,
						100,
						48,
						100,
						55,
						51,
						102,
						97,
						57,
						54,
						101,
						49,
						50,
						52,
						53,
						50,
						97,
						55,
						97,
						102,
						57,
						52,
						51,
						53,
						97,
						50,
						99,
						97,
						57,
						56,
						101,
						51,
						100,
						97,
						52,
						49,
						49,
						56,
						55,
						100,
						99,
						98,
						54,
						55,
						56,
						56,
						49,
						97,
						100,
						34,
						125,
						125,
						125,
					],
				},
			},
		},
		prevState: {
			protocol: {
				client: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							accountPk:
								'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
							devicePk:
								'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
							accountGroupPk:
								'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
						},
					},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk:
									'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
								devicePk:
									'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
								accountGroupPk:
									'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
		nextState: {
			protocol: {
				client: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							accountPk:
								'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
							devicePk:
								'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
							accountGroupPk:
								'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
						},
					},
				},
			},
			chat: {
				account: {
					events: [],
					aggregates: {
						'0': {
							id: 0,
							configuration: {
								accountPk:
									'217e755ccbb6714f6c365804cfde643b319e5b84d5f5521aebbae951454bea7202b52d981b792deb75547f1f04b853ff0977c9962637ceb0d9b9807db39d0f69:58a5a987ee8958d115292328870ac7770f773ba148e84e1201634cb0eac69bb2fd5e50b97bb8916ebcc9c6889f794e583c1d39ea535afbdc0b7d85ce95a6d592',
								devicePk:
									'4f6aafbcda59122ee79b3a9cbccc685a91f04d5b8aa8109119d645ae36d8a8f4581d85509a41accbdea0fb94913d7c6f9141f595b4d888550191115987913e0f:9de77cbb317a6a180540050065f68ee3916ef8b98d92a5e9b06f7ecb720ac37c44fb386c5aaa7b67df5d5663cf3a150c9adaf31a7337853987cc53045f190df5',
								accountGroupPk:
									'76b69561f38cfff7e4ac499dc83a1e443fe0fb5bb8fbc345de13a515fee3ea1dbc08b84822f3dc3739723300853e44e5c5e1f3b28d1f0947669ba0f47c1417fa:a7c14d19ce60e9847af9da02eba4438d45495683aad2ddca6ac7f9c82f62907f765beb131d7cd498d0d73fa96e12452a7af9435a2ca98e3da41187dcb67881ad',
							},
							name: 'Anonymous 1337',
							requests: [],
							conversations: [],
							contacts: [],
						},
					},
				},
				request: {
					events: [],
					aggregates: {},
				},
				contact: {
					events: [],
					aggregates: {},
				},
				conversation: {
					events: [],
					aggregates: {},
				},
				member: {
					events: [],
					aggregates: {},
				},
				message: {
					events: [],
					aggregates: {},
				},
			},
		},
	},
]

test('chat/account/command/create (action index 0) should correctly update state', function() {
	var action = actions[0]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})

test('protocol/client/command/instanceGetConfiguration (action index 1) should correctly update state', function() {
	var action = actions[1]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})

test('chat/account/event/created (action index 2) should correctly update state', function() {
	var action = actions[2]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})

test('protocol/client/command/appMetadataSend (action index 3) should correctly update state', function() {
	var action = actions[3]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})

test('protocol/client/event/instanceGotConfiguration (action index 4) should correctly update state', function() {
	var action = actions[4]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})

test('chat/account/event/configurationUpdated (action index 5) should correctly update state', function() {
	var action = actions[5]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})

test('protocol/client/command/appMetadataSend (action index 6) should correctly update state', function() {
	var action = actions[6]
	var result = reducer(action.prevState, action.action)
	expect(equality(result, action.nextState)).toBe(true)
})
